#include <iostream>
#include <iomanip>

template<typename S>
S calibrateValue(const S &x, char factor)
{
    return x * (factor - '0'); 
}

void adjustReading(double *value, double offset = 1.25)
{
    *value += offset;
}

void clampReading(double &r)
{
    if (r < 0)  r = 0;
    else if (r > 100) r = 100;
}

double computeDifference(int a, double b)
{
    return a - b;
}

int main()
{
    int intSensor;
    double doubleSensor;

    cout << "Enter integer sensor reading: ";
    cin >> intSensor;

    cout << "Enter double sensor reading: ";
    cin >> doubleSensor;

    int calibratedInt = calibrateValue(intSensor, '2');
    double calibratedDouble = calibrateValue(doubleSensor, '2');

    cout << "\nCalibrated Values:\n";
    cout << setw(10) << calibratedInt << endl;
    cout << setw(10) << fixed << setprecision(4) << calibratedDouble << endl;

    double convertedIntAsDouble = static_cast<double>(calibratedInt);

    adjustReading(&convertedIntAsDouble);

    adjustReading(&calibratedDouble, 3.4);

    cout << "\nAfter Adjustment:\n";
    cout << setw(10) << fixed << setprecision(4) << convertedIntAsDouble << endl;
    cout << setw(10) << fixed << setprecision(4) << calibratedDouble << endl;

    clampReading(convertedIntAsDouble);
    clampReading(calibratedDouble);

    cout << "\nAfter Clamping:\n";
    cout << setw(10) << convertedIntAsDouble << endl;
    cout << setw(10) << calibratedDouble << endl;

    int finalInt = static_cast<int>(convertedIntAsDouble);

    cout << "\nConverted Back to Int:\n";
    cout << setw(10) << finalInt << endl;

    double difference = computeDifference(finalInt, calibratedDouble);

    cout << "\nDifference (Int - Double):\n";
    cout << setw(10) << fixed << setprecision(4) << difference << endl;

    return 0;
}
